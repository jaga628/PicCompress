import React, { useState } from "react"; import { Button } from "@/components/ui/button"; import { Card, CardContent } from "@/components/ui/card"; import { UploadCloud } from "lucide-react"; import imageCompression from "browser-image-compression";

export default function ImageCompressor() { const [originalImage, setOriginalImage] = useState(null); const [compressedImage, setCompressedImage] = useState(null); const [loading, setLoading] = useState(false);

const handleImageChange = async (e) => { const imageFile = e.target.files[0]; setOriginalImage(URL.createObjectURL(imageFile));

const options = {
  maxSizeMB: 1,
  maxWidthOrHeight: 1024,
  useWebWorker: true,
};

setLoading(true);
try {
  const compressedFile = await imageCompression(imageFile, options);
  setCompressedImage(URL.createObjectURL(compressedFile));
} catch (error) {
  console.error(error);
}
setLoading(false);

};

return ( <div className="min-h-screen bg-gradient-to-br from-black via-red-900 to-gray-900 text-white p-4 flex items-center justify-center"> <div className="w-full max-w-6xl"> <h1 className="text-3xl sm:text-4xl font-bold text-center text-white mb-6"> ðŸ”» Smart Image Compressor </h1> <Card className="w-full bg-gray-800 border-red-600 border-2 rounded-2xl shadow-lg"> <CardContent className="flex flex-col items-center p-6"> <label
htmlFor="file-input"
className="flex flex-col items-center gap-2 cursor-pointer text-red-400 hover:text-red-200 text-center"
> <UploadCloud size={40} /> <span className="text-sm sm:text-base">Click to Upload Image</span> <input
id="file-input"
type="file"
accept="image/*"
onChange={handleImageChange}
className="hidden"
/> </label>

{loading && <p className="text-white mt-4">Compressing...</p>}

        {compressedImage && (
          <div className="mt-6 grid gap-6 sm:grid-cols-2 w-full">
            <div className="flex flex-col items-center">
              <p className="mb-2 text-sm text-gray-300">Original</p>
              <img
                src={originalImage}
                alt="Original"
                className="w-full max-w-xs sm:max-w-sm border-2 border-red-700 rounded-xl shadow-lg"
              />
            </div>
            <div className="flex flex-col items-center">
              <p className="mb-2 text-sm text-gray-300">Compressed</p>
              <img
                src={compressedImage}
                alt="Compressed"
                className="w-full max-w-xs sm:max-w-sm border-2 border-green-500 rounded-xl shadow-lg"
              />
            </div>
          </div>
        )}
      </CardContent>
    </Card>
  </div>
</div>

); }

